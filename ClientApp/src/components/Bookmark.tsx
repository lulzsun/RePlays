import { forwardRef } from "react";

interface Props {
    id: number;
    time?: number;
    type?: BookmarkType;
}

enum BookmarkType {
    Manual,
    Kill
}

export const Bookmark = forwardRef<HTMLDivElement, Props>(({ id, time = 0, type = BookmarkType.Manual }, ref) => {
    let className = "grid grid-flow-col absolute rounded-lg h-full";
    if (type === BookmarkType.Manual) {
        className += " bg-yellow-400";
    } else if (type === BookmarkType.Kill) {
        className += " bg-blue-400";
    }
    return (
        <div ref={ref} data-index={id} style={{ zIndex: 1, width: `5px`, left: `${time}%` }} className={className}
            onContextMenu={(e) => {
                e.preventDefault();
            }}>

            <svg style={{ marginLeft: "-32%", marginTop: "-16px" }} width="16px" height="16px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g>
                <path
                        d={type === BookmarkType.Manual ? "M19.5,7V20a1.5,1.5,0,0,1-2.354,1.233l-4.863-3.367a.5.5,0,0,0-.57,0L6.854,21.231A1.5,1.5,0,0,1,4.5,20V7A4.505,4.505,0,0,1,9,2.5h6A4.505,4.505,0,0,1,19.5,7Z" : "M 2.855469 2.285156 C 2.855469 2.523438 3.191406 3.617188 3.570312 4.808594 C 4.144531 6.523438 5.238281 7.761719 9.191406 11.238281 L 14.046875 15.570312 L 15.285156 14.285156 L 16.523438 13.046875 L 12.332031 8.332031 C 9.238281 4.855469 7.523438 3.332031 6.046875 2.761719 C 3.808594 1.855469 2.855469 1.714844 2.855469 2.285156 Z M 2.855469 2.285156 M 17.761719 2.714844 C 16.476562 3.144531 15.191406 4.09375 14.238281 5.285156 L 12.761719 7.144531 L 14.046875 8.808594 L 15.285156 10.523438 L 17.238281 8.953125 C 19.09375 7.523438 20.046875 5.953125 20.714844 3.191406 C 21.09375 1.714844 20.761719 1.617188 17.761719 2.714844 Z M 17.761719 2.714844 M 7.714844 12.523438 C 7.382812 12.90625 7.617188 13.476562 8.570312 14.382812 C 9.714844 15.523438 10 15.570312 10.476562 15 C 10.953125 14.429688 10.953125 14.144531 10.476562 13.523438 C 9.429688 12.285156 8.238281 11.855469 7.714844 12.523438 Z M 7.714844 12.523438 M 3.046875 13.382812 C 2.570312 14.191406 8.90625 20.332031 9.523438 19.714844 C 9.90625 19.332031 9.761719 18.570312 9 17.046875 C 8.238281 15.429688 7.429688 14.617188 5.855469 13.855469 C 3.429688 12.667969 3.476562 12.714844 3.046875 13.382812 Z M 3.046875 13.382812 M 17.808594 13.90625 C 15.570312 15 13.332031 18.761719 14.285156 19.714844 C 14.617188 20.046875 15.667969 19.285156 17.855469 17.144531 C 20.761719 14.285156 21.285156 13.332031 20.191406 13.046875 C 19.953125 12.953125 18.855469 13.382812 17.808594 13.90625 Z M 17.808594 13.90625 M 3.238281 18 C 2.90625 18.476562 2.238281 19 1.761719 19.191406 C 1.191406 19.429688 0.953125 19.90625 1.046875 20.570312 C 1.238281 21.953125 3.191406 22.332031 3.667969 21.09375 C 3.855469 20.617188 4.429688 19.90625 4.953125 19.476562 C 5.761719 18.808594 5.808594 18.570312 5.285156 17.90625 C 4.476562 16.90625 4 16.953125 3.238281 18 Z M 3.238281 18 M 18.523438 17.90625 C 18 18.570312 18.046875 18.808594 18.855469 19.476562 C 19.382812 19.90625 19.953125 20.617188 20.144531 21.09375 C 20.617188 22.332031 22.570312 21.953125 22.761719 20.570312 C 22.855469 19.90625 22.617188 19.429688 22.046875 19.191406 C 21.570312 19 20.90625 18.476562 20.570312 18 C 19.808594 16.953125 19.332031 16.90625 18.523438 17.90625 Z M 18.523438 17.90625"}>
                </path>
            </g></svg>
        </div>
    )
})

export default Bookmark;